<head>
  <title>Printify Clone</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://js.stripe.com/v3/"></script>

  <!-- Shopify OAuth Redirect Handler -->
  <script>
    // Check for Shopify OAuth params and redirect to callback BEFORE React loads
    (function () {
      const params = new URLSearchParams(window.location.search);
      const code = params.get("code");
      const hmac = params.get("hmac");
      const shop = params.get("shop");
      const session = params.get("session");
      
      // Handle OAuth callback (has code parameter)
      if (code && hmac && shop && window.location.pathname === "/") {
        console.log("ðŸ”„ Shopify OAuth detected, redirecting to callback...");
        window.location.href =
          "/api/oauth/shopify/callback" + window.location.search;
      }
      // Handle embedded app session (has session but no code)
      else if (session && hmac && shop && window.location.pathname === "/") {
        console.log("ðŸ”„ Shopify embedded app session detected");
        // For now, just log it - embedded apps need different handling
        // You could redirect to dashboard or handle session validation
      }
    })();
  </script>

  <!-- Google Fonts for Design Studio -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&family=Roboto:ital,wght@0,300;0,400;0,700;0,900;1,400;1,700&family=Open+Sans:ital,wght@0,300;0,400;0,600;0,700;1,400&family=Lato:ital,wght@0,300;0,400;0,700;0,900;1,400&family=Montserrat:wght@300;400;600;700;900&family=Oswald:wght@300;400;600;700&family=Raleway:ital,wght@0,300;0,400;0,600;0,700;1,400&family=Poppins:ital,wght@0,300;0,400;0,600;0,700;1,400&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&family=Bebas+Neue&family=Dancing+Script:wght@400;700&family=Pacifico&family=Righteous&family=Permanent+Marker&family=Lobster&family=Abril+Fatface&family=Comfortaa:wght@300;400;700&family=Quicksand:wght@300;400;600;700&family=Nunito:ital,wght@0,300;0,400;0,700;1,400&family=Ubuntu:ital,wght@0,300;0,400;0,700;1,400&family=PT+Sans:ital,wght@0,400;0,700;1,400&family=Crimson+Text:ital,wght@0,400;0,700;1,400&family=Indie+Flower&family=Shadows+Into+Light&family=Caveat:wght@400;700&family=Satisfy&family=Great+Vibes&family=Amatic+SC:wght@400;700&family=Architects+Daughter&display=swap"
    rel="stylesheet"
  />
</head>

<body>
  <div id="react-target"></div>
</body>
